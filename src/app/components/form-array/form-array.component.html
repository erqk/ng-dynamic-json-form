<label class="form-label">{{ label }}</label>

<ng-container
  *ngIf="
    data.editable === true &&
    !data.minLength &&
    form.controls.formArray.length === 0
  "
>
  <button (click)="addForm()">+</button>
</ng-container>

<ng-container *ngIf="!!form" [formGroup]="form">
  <ng-container formArrayName="formArray">
    <ng-container
      *ngFor="
        let formGroup of $any(form.controls['formArray']).controls;
        index as i
      "
    >
      <div class="group" formGroupName="{{ i }}">
        <span>{{ data.templateLabel }} {{ i + 1 }}</span>

        <ng-container *ngIf="data.editable === true">
          <button (click)="addForm(i + 1)">+</button>
          <button (click)="removeForm(i)">-</button>
        </ng-container>

        <ng-container *ngFor="let item of data.template">
          <app-form-control
            [data]="item"
            formControlName="{{ item.formControlName }}"
          ></app-form-control>
        </ng-container>
      </div>
    </ng-container>
  </ng-container>
</ng-container>
