<ng-container *ngIf="!!formControl">
  <label class="input-label">{{ label }}</label>

  <ng-container *ngIf="!options.length" [ngSwitch]="inputType">
    <ng-container *ngSwitchCase="'switch'">
      <label class="switch-button">
        <input type="checkbox" [formControl]="$any(formControl)" />
        <span class="marker"></span>
      </label>
    </ng-container> 

    <ng-container *ngSwitchDefault>
      <input type="{{ inputType }}" [formControl]="$any(formControl)" />
    </ng-container>
  </ng-container>

  <div class="group-buttons" *ngIf="!!options.length" [ngSwitch]="inputType">
    <ng-container *ngSwitchCase="'dropdown'">
      <select [formControl]="$any(formControl)">
        <option *ngFor="let item of options" [value]="item.value">
          {{ item.label }}
        </option>
      </select>
    </ng-container>

    <!-- Must set the input type explicitly (not using variable),
      otherwise will not working properly when using radio buttons etc.
    -->
    <ng-container *ngSwitchCase="'radio'">
      <ng-container *ngFor="let item of options">
        <label class="option-button">
          <input
            type="radio"
            [value]="item.value"
            [formControl]="$any(formControl)"
          />

          <span class="marker"></span>
          <span>{{ item.label }}</span>
        </label>
      </ng-container>
    </ng-container>

    <ng-container *ngSwitchCase="'checkbox'">
      <ng-container *ngFor="let item of options">
        <label class="option-button">
          <input
            type="checkbox"
            [value]="item.value"
            [checked]="checkboxValues.includes(item.value)"
            (change)="onCheckboxChange($event)"
          />

          <span class="marker"></span>
          <span>{{ item.label }}</span>
        </label>
      </ng-container>
    </ng-container>
  </div>

  <span *ngIf="formControl.errors">
    {{ formControl.errors | json }}
  </span>
</ng-container>
