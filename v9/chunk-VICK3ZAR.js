import{b as L}from"./chunk-2JODUKVB.js";import{A as S,C as m,Ia as w,K as y,Z as g,ba as b,bd as C,ga as d,k as o,ld as T,o as u,ta as $}from"./chunk-5UBUKTGT.js";var V=(()=>{let n=class n{constructor(){this.http=d(C),this.transferState=d(w),this.versionService=d(L),this.languageDataService=d(T),this.docCache=[],this.docLoading=$(!1)}loadDoc$(e){if(!e)return o("");e.startsWith("docs/")&&(e=e.replace("docs/",""));let t=this.docCache.find(r=>r.path===e&&r.data)?.data;if(t)return o(t);let s=this.versionService.currentVersion(),a=this.languageDataService.selectedLanguage(),l=e.split("/"),i=`${l[l.length-1]}_${a}.md`,h=e.endsWith(".md")?e:`${e}/${i}`,p=`./assets/docs/${s}/${h}`,c=p;return this.transferState.hasKey(c)?o(this.transferState.get(c,"")):(this.docLoading.set(!0),this.http.get(p,{responseType:"text",observe:"response"}).pipe(S(r=>(r.headers.get("Content-Type")??"").indexOf("text/markdown")>-1),u(r=>r.body??""),g(r=>{this.docCache.some(v=>v.path===e)||(this.docCache.push({path:e,data:r}),this.transferState.set(c,r))}),y(()=>this.docLoading.set(!1)),m(()=>o(""))))}clearCache(){this.docCache=[]}firstContentPath$(){let e=this.languageDataService.selectedLanguage(),t=this.versionService.currentVersion(),s=`assets/docs/${t}/index_${e}.md`,a=s;return(this.transferState.hasKey(a)?o(this.transferState.get(a,"")):this.http.get(s,{responseType:"text"}).pipe(g(i=>this.transferState.set(a,i)))).pipe(u(i=>{let h=i.match(/(\.+\/){1,}.+\.md/)?.[0],c=(h?.match(/(\.*\/){1,}/)?.[0]||"")+t+"/";return h?.replace(c,"docs/")??""}),m(()=>o("")))}wrapTable(){typeof window>"u"||window.setTimeout(()=>{let e=Array.from(document.querySelectorAll("table"));for(let t of e){let s=document.createElement("div"),a=t.cloneNode(!0);(t.parentElement?.classList.contains("table-wrapper")??!1)||(s.classList.add("table-wrapper"),s.appendChild(a),t.parentElement?.insertBefore(s,t),t.remove())}})}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"});let f=n;return f})();export{V as a};
