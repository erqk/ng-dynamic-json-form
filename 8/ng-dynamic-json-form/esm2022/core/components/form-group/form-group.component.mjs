import { CommonModule } from '@angular/common';
import { Component, ElementRef, Input, ViewChildren, inject, } from '@angular/core';
import { ReactiveFormsModule, UntypedFormGroup } from '@angular/forms';
import { getClassListFromString } from '../../../core/utilities/get-class-list-from-string';
import { getStyleListFromString } from '../../../core/utilities/get-style-list-from-string';
import { ControlLayoutDirective } from '../../directives/control-layout.directive';
import { HostIdDirective } from '../../directives/host-id.directive';
import { ControlTypeByConfigPipe } from '../../pipes/control-type-by-config.pipe';
import { GlobalVariableService } from '../../services/global-variable.service';
import { ContentWrapperComponent } from '../content-wrapper/content-wrapper.component';
import { FormControlComponent } from '../form-control/form-control.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/forms";
class FormGroupComponent {
    constructor() {
        this._el = inject(ElementRef);
        this._globalVariableService = inject(GlobalVariableService);
        this.parentForm = new UntypedFormGroup({});
        this.customComponents = this._globalVariableService.customComponents;
    }
    ngOnChanges(changes) {
        const host = this._el.nativeElement;
        const { rootClass, rootStyles } = changes;
        if (rootClass) {
            const classList = getClassListFromString(rootClass.currentValue);
            host.classList.add(...classList);
        }
        if (rootStyles) {
            const styleList = getStyleListFromString(rootStyles.currentValue);
            for (const item of styleList) {
                const [name, value] = item.split(':');
                host.style.setProperty(name, value);
            }
        }
    }
    updateStatus(status) {
        this.formControlRefs?.forEach((x) => x.updateControlStatus(status, true));
        this.formGroupRefs?.forEach((x) => x.updateStatus(status));
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: FormGroupComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: FormGroupComponent, isStandalone: true, selector: "form-group", inputs: { configs: "configs", collapsibleState: "collapsibleState", parentId: "parentId", parentForm: "parentForm", rootClass: "rootClass", rootStyles: "rootStyles" }, host: { classAttribute: "grid-container form-group-container" }, viewQueries: [{ propertyName: "formGroupRefs", predicate: FormGroupComponent, descendants: true }, { propertyName: "formControlRefs", predicate: FormControlComponent, descendants: true }], usesOnChanges: true, ngImport: i0, template: "<ng-container [formGroup]=\"parentForm\">\n  <ng-container *ngFor=\"let item of configs\">\n    <ng-container *ngIf=\"!item.hidden\">\n      <ng-container\n        *ngIf=\"parentForm?.controls?.[item.formControlName] as targetControl\"\n      >\n        <content-wrapper\n          style=\"display: block\"\n          [config]=\"item\"\n          [control]=\"targetControl\"\n          [collapsibleState]=\"collapsibleState\"\n          [controlLayout]=\"{\n            type: 'host',\n            layout: item.layout\n          }\"\n          [hostId]=\"{\n            parentId,\n            controlName: item.formControlName,\n          }\"\n          [ngClass]=\"{\n            'form-control-container': (item | controlTypeByConfig) === 'FormControl',\n            readonly: item.readonly,\n          }\"\n        >\n          <!-- FormControl -->\n          <ng-container *ngIf=\"(item | controlTypeByConfig) === 'FormControl'\">\n            <form-control\n              [data]=\"item\"\n              [control]=\"targetControl\"\n              [formControlName]=\"item.formControlName\"\n              [customComponent]=\"customComponents?.[item.formControlName]\"\n              [controlLayout]=\"{\n                type: 'inputArea',\n                layout: item.layout\n              }\"\n            ></form-control>\n          </ng-container>\n\n          <!-- FormGroup -->\n          <ng-container *ngIf=\"(item | controlTypeByConfig) === 'FormGroup'\">\n            <form-group\n              [parentId]=\"\n                (parentId ? parentId + '.' : '') + item.formControlName\n              \"\n              [parentForm]=\"$any(targetControl)\"\n              [configs]=\"item.children\"\n              [collapsibleState]=\"collapsibleState\"\n              [controlLayout]=\"{\n                type: 'formGroup',\n                layout: item.layout\n              }\"\n            ></form-group>\n          </ng-container>\n        </content-wrapper>\n      </ng-container>\n    </ng-container>\n  </ng-container>\n</ng-container>\n", dependencies: [{ kind: "component", type: FormGroupComponent, selector: "form-group", inputs: ["configs", "collapsibleState", "parentId", "parentForm", "rootClass", "rootStyles"] }, { kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: ReactiveFormsModule }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i2.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "component", type: ContentWrapperComponent, selector: "content-wrapper", inputs: ["config", "control", "collapsibleState"] }, { kind: "directive", type: HostIdDirective, selector: "[hostId]", inputs: ["hostId"] }, { kind: "directive", type: ControlLayoutDirective, selector: "[controlLayout]", inputs: ["controlLayout"] }, { kind: "component", type: FormControlComponent, selector: "form-control", inputs: ["data", "control", "customComponent"] }, { kind: "pipe", type: ControlTypeByConfigPipe, name: "controlTypeByConfig" }] }); }
}
export { FormGroupComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: FormGroupComponent, decorators: [{
            type: Component,
            args: [{ selector: 'form-group', standalone: true, imports: [
                        CommonModule,
                        ReactiveFormsModule,
                        ContentWrapperComponent,
                        HostIdDirective,
                        ControlLayoutDirective,
                        FormControlComponent,
                        ControlTypeByConfigPipe,
                    ], host: {
                        class: 'grid-container form-group-container',
                    }, template: "<ng-container [formGroup]=\"parentForm\">\n  <ng-container *ngFor=\"let item of configs\">\n    <ng-container *ngIf=\"!item.hidden\">\n      <ng-container\n        *ngIf=\"parentForm?.controls?.[item.formControlName] as targetControl\"\n      >\n        <content-wrapper\n          style=\"display: block\"\n          [config]=\"item\"\n          [control]=\"targetControl\"\n          [collapsibleState]=\"collapsibleState\"\n          [controlLayout]=\"{\n            type: 'host',\n            layout: item.layout\n          }\"\n          [hostId]=\"{\n            parentId,\n            controlName: item.formControlName,\n          }\"\n          [ngClass]=\"{\n            'form-control-container': (item | controlTypeByConfig) === 'FormControl',\n            readonly: item.readonly,\n          }\"\n        >\n          <!-- FormControl -->\n          <ng-container *ngIf=\"(item | controlTypeByConfig) === 'FormControl'\">\n            <form-control\n              [data]=\"item\"\n              [control]=\"targetControl\"\n              [formControlName]=\"item.formControlName\"\n              [customComponent]=\"customComponents?.[item.formControlName]\"\n              [controlLayout]=\"{\n                type: 'inputArea',\n                layout: item.layout\n              }\"\n            ></form-control>\n          </ng-container>\n\n          <!-- FormGroup -->\n          <ng-container *ngIf=\"(item | controlTypeByConfig) === 'FormGroup'\">\n            <form-group\n              [parentId]=\"\n                (parentId ? parentId + '.' : '') + item.formControlName\n              \"\n              [parentForm]=\"$any(targetControl)\"\n              [configs]=\"item.children\"\n              [collapsibleState]=\"collapsibleState\"\n              [controlLayout]=\"{\n                type: 'formGroup',\n                layout: item.layout\n              }\"\n            ></form-group>\n          </ng-container>\n        </content-wrapper>\n      </ng-container>\n    </ng-container>\n  </ng-container>\n</ng-container>\n" }]
        }], propDecorators: { configs: [{
                type: Input
            }], collapsibleState: [{
                type: Input
            }], parentId: [{
                type: Input
            }], parentForm: [{
                type: Input
            }], rootClass: [{
                type: Input
            }], rootStyles: [{
                type: Input
            }], formGroupRefs: [{
                type: ViewChildren,
                args: [FormGroupComponent]
            }], formControlRefs: [{
                type: ViewChildren,
                args: [FormControlComponent]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1ncm91cC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWIvY29yZS9jb21wb25lbnRzL2Zvcm0tZ3JvdXAvZm9ybS1ncm91cC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9saWIvY29yZS9jb21wb25lbnRzL2Zvcm0tZ3JvdXAvZm9ybS1ncm91cC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUNMLFNBQVMsRUFDVCxVQUFVLEVBQ1YsS0FBSyxFQUlMLFlBQVksRUFDWixNQUFNLEdBQ1AsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLG1CQUFtQixFQUFFLGdCQUFnQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdkUsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sb0RBQW9ELENBQUM7QUFDNUYsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sb0RBQW9ELENBQUM7QUFDNUYsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sMkNBQTJDLENBQUM7QUFDbkYsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBR3JFLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBQ2xGLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHdDQUF3QyxDQUFDO0FBQy9FLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLDhDQUE4QyxDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHdDQUF3QyxDQUFDOzs7O0FBRTlFLE1BaUJhLGtCQUFrQjtJQWpCL0I7UUFrQlUsUUFBRyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN6QiwyQkFBc0IsR0FBRyxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUt0RCxlQUFVLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQVUvQyxxQkFBZ0IsR0FBRyxJQUFJLENBQUMsc0JBQXNCLENBQUMsZ0JBQWdCLENBQUM7S0F5QmpFO0lBdkJDLFdBQVcsQ0FBQyxPQUFzQjtRQUNoQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQTRCLENBQUM7UUFDbkQsTUFBTSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsR0FBRyxPQUFPLENBQUM7UUFFMUMsSUFBSSxTQUFTLEVBQUU7WUFDYixNQUFNLFNBQVMsR0FBRyxzQkFBc0IsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDakUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQztTQUNsQztRQUVELElBQUksVUFBVSxFQUFFO1lBQ2QsTUFBTSxTQUFTLEdBQUcsc0JBQXNCLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBRWxFLEtBQUssTUFBTSxJQUFJLElBQUksU0FBUyxFQUFFO2dCQUM1QixNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3RDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQzthQUNyQztTQUNGO0lBQ0gsQ0FBQztJQUVELFlBQVksQ0FBQyxNQUFzRDtRQUNqRSxJQUFJLENBQUMsZUFBZSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzFFLElBQUksQ0FBQyxhQUFhLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQzsrR0F6Q1Usa0JBQWtCO21HQUFsQixrQkFBa0IsaVZBV2Ysa0JBQWtCLHFFQUdsQixvQkFBb0IscUVDdERwQyx1Z0VBMERBLDRDRGxCYSxrQkFBa0Isb0pBYjNCLFlBQVksNlZBQ1osbUJBQW1CLG9sQkFDbkIsdUJBQXVCLCtHQUN2QixlQUFlLHlFQUNmLHNCQUFzQix1RkFDdEIsb0JBQW9CLG9HQUNwQix1QkFBdUI7O1NBT2Qsa0JBQWtCOzRGQUFsQixrQkFBa0I7a0JBakI5QixTQUFTOytCQUNFLFlBQVksY0FDVixJQUFJLFdBQ1A7d0JBQ1AsWUFBWTt3QkFDWixtQkFBbUI7d0JBQ25CLHVCQUF1Qjt3QkFDdkIsZUFBZTt3QkFDZixzQkFBc0I7d0JBQ3RCLG9CQUFvQjt3QkFDcEIsdUJBQXVCO3FCQUN4QixRQUVLO3dCQUNKLEtBQUssRUFBRSxxQ0FBcUM7cUJBQzdDOzhCQU1RLE9BQU87c0JBQWYsS0FBSztnQkFDRyxnQkFBZ0I7c0JBQXhCLEtBQUs7Z0JBQ0csUUFBUTtzQkFBaEIsS0FBSztnQkFDRyxVQUFVO3NCQUFsQixLQUFLO2dCQUNHLFNBQVM7c0JBQWpCLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSztnQkFHTixhQUFhO3NCQURaLFlBQVk7dUJBQUMsa0JBQWtCO2dCQUloQyxlQUFlO3NCQURkLFlBQVk7dUJBQUMsb0JBQW9CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgUXVlcnlMaXN0LFxuICBTaW1wbGVDaGFuZ2VzLFxuICBWaWV3Q2hpbGRyZW4sXG4gIGluamVjdCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSZWFjdGl2ZUZvcm1zTW9kdWxlLCBVbnR5cGVkRm9ybUdyb3VwIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgZ2V0Q2xhc3NMaXN0RnJvbVN0cmluZyB9IGZyb20gJy4uLy4uLy4uL2NvcmUvdXRpbGl0aWVzL2dldC1jbGFzcy1saXN0LWZyb20tc3RyaW5nJztcbmltcG9ydCB7IGdldFN0eWxlTGlzdEZyb21TdHJpbmcgfSBmcm9tICcuLi8uLi8uLi9jb3JlL3V0aWxpdGllcy9nZXQtc3R5bGUtbGlzdC1mcm9tLXN0cmluZyc7XG5pbXBvcnQgeyBDb250cm9sTGF5b3V0RGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9jb250cm9sLWxheW91dC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgSG9zdElkRGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9ob3N0LWlkLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBGb3JtQ29udHJvbENvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVscyc7XG5pbXBvcnQgeyBGb3JtTGF5b3V0IH0gZnJvbSAnLi4vLi4vbW9kZWxzL2Zvcm0tbGF5b3V0LmludGVyZmFjZSc7XG5pbXBvcnQgeyBDb250cm9sVHlwZUJ5Q29uZmlnUGlwZSB9IGZyb20gJy4uLy4uL3BpcGVzL2NvbnRyb2wtdHlwZS1ieS1jb25maWcucGlwZSc7XG5pbXBvcnQgeyBHbG9iYWxWYXJpYWJsZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9nbG9iYWwtdmFyaWFibGUuc2VydmljZSc7XG5pbXBvcnQgeyBDb250ZW50V3JhcHBlckNvbXBvbmVudCB9IGZyb20gJy4uL2NvbnRlbnQtd3JhcHBlci9jb250ZW50LXdyYXBwZXIuY29tcG9uZW50JztcbmltcG9ydCB7IEZvcm1Db250cm9sQ29tcG9uZW50IH0gZnJvbSAnLi4vZm9ybS1jb250cm9sL2Zvcm0tY29udHJvbC5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdmb3JtLWdyb3VwJyxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgIENvbnRlbnRXcmFwcGVyQ29tcG9uZW50LFxuICAgIEhvc3RJZERpcmVjdGl2ZSxcbiAgICBDb250cm9sTGF5b3V0RGlyZWN0aXZlLFxuICAgIEZvcm1Db250cm9sQ29tcG9uZW50LFxuICAgIENvbnRyb2xUeXBlQnlDb25maWdQaXBlLFxuICBdLFxuICB0ZW1wbGF0ZVVybDogJy4vZm9ybS1ncm91cC5jb21wb25lbnQuaHRtbCcsXG4gIGhvc3Q6IHtcbiAgICBjbGFzczogJ2dyaWQtY29udGFpbmVyIGZvcm0tZ3JvdXAtY29udGFpbmVyJyxcbiAgfSxcbn0pXG5leHBvcnQgY2xhc3MgRm9ybUdyb3VwQ29tcG9uZW50IGltcGxlbWVudHMgT25DaGFuZ2VzIHtcbiAgcHJpdmF0ZSBfZWwgPSBpbmplY3QoRWxlbWVudFJlZik7XG4gIHByaXZhdGUgX2dsb2JhbFZhcmlhYmxlU2VydmljZSA9IGluamVjdChHbG9iYWxWYXJpYWJsZVNlcnZpY2UpO1xuXG4gIEBJbnB1dCgpIGNvbmZpZ3M/OiBGb3JtQ29udHJvbENvbmZpZ1tdO1xuICBASW5wdXQoKSBjb2xsYXBzaWJsZVN0YXRlPzogRm9ybUxheW91dFsnY29udGVudENvbGxhcHNpYmxlJ107XG4gIEBJbnB1dCgpIHBhcmVudElkPzogc3RyaW5nO1xuICBASW5wdXQoKSBwYXJlbnRGb3JtID0gbmV3IFVudHlwZWRGb3JtR3JvdXAoe30pO1xuICBASW5wdXQoKSByb290Q2xhc3M/OiBzdHJpbmc7XG4gIEBJbnB1dCgpIHJvb3RTdHlsZXM/OiBzdHJpbmc7XG5cbiAgQFZpZXdDaGlsZHJlbihGb3JtR3JvdXBDb21wb25lbnQpXG4gIGZvcm1Hcm91cFJlZnM/OiBRdWVyeUxpc3Q8Rm9ybUdyb3VwQ29tcG9uZW50PjtcblxuICBAVmlld0NoaWxkcmVuKEZvcm1Db250cm9sQ29tcG9uZW50KVxuICBmb3JtQ29udHJvbFJlZnM/OiBRdWVyeUxpc3Q8Rm9ybUNvbnRyb2xDb21wb25lbnQ+O1xuXG4gIGN1c3RvbUNvbXBvbmVudHMgPSB0aGlzLl9nbG9iYWxWYXJpYWJsZVNlcnZpY2UuY3VzdG9tQ29tcG9uZW50cztcblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgY29uc3QgaG9zdCA9IHRoaXMuX2VsLm5hdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgeyByb290Q2xhc3MsIHJvb3RTdHlsZXMgfSA9IGNoYW5nZXM7XG5cbiAgICBpZiAocm9vdENsYXNzKSB7XG4gICAgICBjb25zdCBjbGFzc0xpc3QgPSBnZXRDbGFzc0xpc3RGcm9tU3RyaW5nKHJvb3RDbGFzcy5jdXJyZW50VmFsdWUpO1xuICAgICAgaG9zdC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTGlzdCk7XG4gICAgfVxuXG4gICAgaWYgKHJvb3RTdHlsZXMpIHtcbiAgICAgIGNvbnN0IHN0eWxlTGlzdCA9IGdldFN0eWxlTGlzdEZyb21TdHJpbmcocm9vdFN0eWxlcy5jdXJyZW50VmFsdWUpO1xuXG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc3R5bGVMaXN0KSB7XG4gICAgICAgIGNvbnN0IFtuYW1lLCB2YWx1ZV0gPSBpdGVtLnNwbGl0KCc6Jyk7XG4gICAgICAgIGhvc3Quc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVN0YXR1cyhzdGF0dXM6ICdkaXJ0eScgfCAncHJpc3RpbmUnIHwgJ3RvdWNoZWQnIHwgJ3VudG91Y2hlZCcpOiB2b2lkIHtcbiAgICB0aGlzLmZvcm1Db250cm9sUmVmcz8uZm9yRWFjaCgoeCkgPT4geC51cGRhdGVDb250cm9sU3RhdHVzKHN0YXR1cywgdHJ1ZSkpO1xuICAgIHRoaXMuZm9ybUdyb3VwUmVmcz8uZm9yRWFjaCgoeCkgPT4geC51cGRhdGVTdGF0dXMoc3RhdHVzKSk7XG4gIH1cbn1cbiIsIjxuZy1jb250YWluZXIgW2Zvcm1Hcm91cF09XCJwYXJlbnRGb3JtXCI+XG4gIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGl0ZW0gb2YgY29uZmlnc1wiPlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhaXRlbS5oaWRkZW5cIj5cbiAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgKm5nSWY9XCJwYXJlbnRGb3JtPy5jb250cm9scz8uW2l0ZW0uZm9ybUNvbnRyb2xOYW1lXSBhcyB0YXJnZXRDb250cm9sXCJcbiAgICAgID5cbiAgICAgICAgPGNvbnRlbnQtd3JhcHBlclxuICAgICAgICAgIHN0eWxlPVwiZGlzcGxheTogYmxvY2tcIlxuICAgICAgICAgIFtjb25maWddPVwiaXRlbVwiXG4gICAgICAgICAgW2NvbnRyb2xdPVwidGFyZ2V0Q29udHJvbFwiXG4gICAgICAgICAgW2NvbGxhcHNpYmxlU3RhdGVdPVwiY29sbGFwc2libGVTdGF0ZVwiXG4gICAgICAgICAgW2NvbnRyb2xMYXlvdXRdPVwie1xuICAgICAgICAgICAgdHlwZTogJ2hvc3QnLFxuICAgICAgICAgICAgbGF5b3V0OiBpdGVtLmxheW91dFxuICAgICAgICAgIH1cIlxuICAgICAgICAgIFtob3N0SWRdPVwie1xuICAgICAgICAgICAgcGFyZW50SWQsXG4gICAgICAgICAgICBjb250cm9sTmFtZTogaXRlbS5mb3JtQ29udHJvbE5hbWUsXG4gICAgICAgICAgfVwiXG4gICAgICAgICAgW25nQ2xhc3NdPVwie1xuICAgICAgICAgICAgJ2Zvcm0tY29udHJvbC1jb250YWluZXInOiAoaXRlbSB8IGNvbnRyb2xUeXBlQnlDb25maWcpID09PSAnRm9ybUNvbnRyb2wnLFxuICAgICAgICAgICAgcmVhZG9ubHk6IGl0ZW0ucmVhZG9ubHksXG4gICAgICAgICAgfVwiXG4gICAgICAgID5cbiAgICAgICAgICA8IS0tIEZvcm1Db250cm9sIC0tPlxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIoaXRlbSB8IGNvbnRyb2xUeXBlQnlDb25maWcpID09PSAnRm9ybUNvbnRyb2wnXCI+XG4gICAgICAgICAgICA8Zm9ybS1jb250cm9sXG4gICAgICAgICAgICAgIFtkYXRhXT1cIml0ZW1cIlxuICAgICAgICAgICAgICBbY29udHJvbF09XCJ0YXJnZXRDb250cm9sXCJcbiAgICAgICAgICAgICAgW2Zvcm1Db250cm9sTmFtZV09XCJpdGVtLmZvcm1Db250cm9sTmFtZVwiXG4gICAgICAgICAgICAgIFtjdXN0b21Db21wb25lbnRdPVwiY3VzdG9tQ29tcG9uZW50cz8uW2l0ZW0uZm9ybUNvbnRyb2xOYW1lXVwiXG4gICAgICAgICAgICAgIFtjb250cm9sTGF5b3V0XT1cIntcbiAgICAgICAgICAgICAgICB0eXBlOiAnaW5wdXRBcmVhJyxcbiAgICAgICAgICAgICAgICBsYXlvdXQ6IGl0ZW0ubGF5b3V0XG4gICAgICAgICAgICAgIH1cIlxuICAgICAgICAgICAgPjwvZm9ybS1jb250cm9sPlxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgICAgPCEtLSBGb3JtR3JvdXAgLS0+XG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIihpdGVtIHwgY29udHJvbFR5cGVCeUNvbmZpZykgPT09ICdGb3JtR3JvdXAnXCI+XG4gICAgICAgICAgICA8Zm9ybS1ncm91cFxuICAgICAgICAgICAgICBbcGFyZW50SWRdPVwiXG4gICAgICAgICAgICAgICAgKHBhcmVudElkID8gcGFyZW50SWQgKyAnLicgOiAnJykgKyBpdGVtLmZvcm1Db250cm9sTmFtZVxuICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICBbcGFyZW50Rm9ybV09XCIkYW55KHRhcmdldENvbnRyb2wpXCJcbiAgICAgICAgICAgICAgW2NvbmZpZ3NdPVwiaXRlbS5jaGlsZHJlblwiXG4gICAgICAgICAgICAgIFtjb2xsYXBzaWJsZVN0YXRlXT1cImNvbGxhcHNpYmxlU3RhdGVcIlxuICAgICAgICAgICAgICBbY29udHJvbExheW91dF09XCJ7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Zvcm1Hcm91cCcsXG4gICAgICAgICAgICAgICAgbGF5b3V0OiBpdGVtLmxheW91dFxuICAgICAgICAgICAgICB9XCJcbiAgICAgICAgICAgID48L2Zvcm0tZ3JvdXA+XG4gICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgIDwvY29udGVudC13cmFwcGVyPlxuICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgPC9uZy1jb250YWluZXI+XG4gIDwvbmctY29udGFpbmVyPlxuPC9uZy1jb250YWluZXI+XG4iXX0=