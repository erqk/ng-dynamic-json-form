<ng-container *ngIf="data">
  <div
    class="input-container"
    [ngClass]="{
      disabled: !useCustomLoading && loading,
      hidden: useCustomLoading && loading
    }"
  >
    <!-- Input template -->
    <ng-container
      [ngTemplateOutlet]="customTemplates?.[data.formControlName] ?? null"
      [ngTemplateOutletContext]="{
        control,
        data,
        errorMessages
      }"
    ></ng-container>

    <!-- Input component -->
    <ng-container #inputComponentAnchor></ng-container>
  </div>

  <div class="loading-container" [ngClass]="{ hidden: !loading }">
    <!-- Loading component -->
    <ng-container
      *ngComponentOutlet="layoutComponents?.loading ?? null"
    ></ng-container>

    <!-- Loading template -->
    <ng-container [ngTemplateOutlet]="layoutTemplates?.loading ?? null">
    </ng-container>
  </div>
</ng-container>
