@if (data) {
  <div
    class="group-buttons"
    [style]="groupButtonsStyles"
    [ngClass]="[data.options?.containerClass ?? '']"
    >
    @for (item of data.options?.data; track item) {
      <label
        class="option-button"
        [ngStyle]="{
          'justify-content':
            data.options?.labelPosition === 'before' ? 'space-between' : null
        }"
        >
        <ng-container
          *ngTemplateOutlet="
            labelTemplate;
            context: {
              label: item.label,
              isBefore: true
            }
          "
      ></ng-container>
      @if (data.options && data.options.data) {
        <!-- binary checkbox -->
        @if (data.options.data.length === 1) {
          <p-checkbox
            #pCheckbox
            [binary]="true"
            [formControl]="control"
              [propsBinding]="[
                {
                  key: 'p-checkbox',
                  props: data.props,
                  omit: ['binary']
                }
              ]"
          (onChange)="onChange(control.value)"
        ></p-checkbox>
      }
      <!-- multi-select checkbox -->
      @if (data.options.data.length > 1) {
        <p-checkbox
          [name]="'group'"
          [value]="item.value"
          [formControl]="control"
              [propsBinding]="[
                {
                  key: 'p-checkbox',
                  props: data.props,
                  omit: ['binary']
                }
              ]"
        (onChange)="onChange(control.value)"
      ></p-checkbox>
    }
  }
  <ng-container
          *ngTemplateOutlet="
            labelTemplate;
            context: {
              label: item.label,
              isBefore: false,
            }
          "
></ng-container>
</label>
}
</div>
<ng-template #labelTemplate let-label="label" let-isBefore="isBefore">
  @if ((data.options?.labelPosition === 'before') === isBefore) {
    <span>{{ label }}</span>
  }
</ng-template>
}
